$(()=>{function e(){let e=t($("#value_after_change").val()),a=parseInt($("#number_parcel_change_lot").val()),n=e;""!=$("#number_parcel_change_lot").val()&&(n=e/a),$("#value_parcel_change_lot").val(l(n))}function a(){let e=t($("#new_value_pay").val()),a=$("#rate_financing").val();""!=$("#rate_financing").val()&&0!=$("#rate_financing").val()||(a=.6),a/=100;let n=parseInt($("#number_parcel_change_lot").val()),r=e*(Math.pow(1+a,n).toFixed(5)*a/(Math.pow(1+a,n).toFixed(5)-1)),c=r*n;$("#value_after_change").val(l(c)),$("#value_parcel_change_lot").val(l(r))}function t(e){return e=(e=(e=e.replace("R$","")).replace(".","")).replace(",","."),parseFloat(e)}function l(e){return e=(e=e.toFixed(2)).replace(".",",")}$("#total_parcels_pad").trigger("focus"),$("#total_parcels_pad").trigger("blur"),""==$("#total_parcels_pad").val()&&$("#total_parcels_pad").val("0,00"),$("#table_interprise").find("input[name=interpriseCheck]").each((function(){$(this).on("change",(function(){if($(this).prop("checked")){$("#id_interprise").val($(this).val());let e=$(this).next("input[name=lotCheck]").val(),n=$(this).closest("tr").find("input[name=lot_value]").val();$("#id_lot").val(e),$("#value_lot_selected").val(n),$("#id_lot").val(e);let r=$(this).closest("tr").find("td").eq(1).html(),c=$(this).closest("tr").find("td").eq(2).html(),i=r+" - Quadra "+$(this).closest("tr").find("td").eq(3).html()+" Lot "+c;$("#lot_selected").val(i),function(){let e=t($("#value_lot_selected").val()),a=0;""!=$("#total_parcels_pad").val()&&(a=t($("#total_parcels_pad").val()));let n=e-a;$("#new_value_pay").val(l(n))}(),a(),$("#number_parcel_change_lot").attr("disabled",!1),$("#value_after_change").attr("disabled",!1),$("#rate_financing").attr("disabled",!1)}}))})),$("#value_after_change").on("keyup",(function(){e()})),$("#number_parcel_change_lot").on("keyup",(function(){e()})),$("#number_parcel_change_lot").on("change",(function(){e()})),$("#rate_financing").on("keyup",(function(){a()})),$("#btnInput").on("click",(function(e){e.preventDefault(),0==function(){let e=!1;return $("input[name=interpriseCheck]").each((function(){$(this).prop("checked")&&(e=!0)})),e}()?Swal.fire({icon:"error",text:"Selecione um lot para fazer a troca!",customClass:"mySweetalert"}):!function(){let e=!1,a=$("#value_after_change").val(),t=$("#rate_financing").val(),l=$("#number_parcel_change_lot").val(),n=$("#first_parcel").val();""!==a&&""!==t&&""!==l&&""!==n||(e=!0);return e}()?$("#addChangeLotContact").trigger("submit"):Swal.fire({icon:"error",text:"Os campos do administrativos são obrigatórios!",customClass:"mySweetalert"})}))});