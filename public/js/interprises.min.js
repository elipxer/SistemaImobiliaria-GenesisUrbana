$(()=>{var e=$(".companyLinePorc");$("#companiesAreaTable").find("input[name=companyCheck]").each((function(){$(this).on("change",(function(){!function(){let n=[],a=[];$("#companiesAreaTable").find("input[name=companyCheck]").each((function(){if($(this).prop("checked")){let e={id:$(this).val(),name:$(this).closest("tr").find("td").eq(1).html(),cnpj:$(this).closest("tr").find("td").eq(2).html(),representative_cpf:$(this).closest("tr").find("td").eq(3).html()};n.push(e),a.push(e.id)}})),$("#id_companies").val(a),$("#card_porc").empty(),n.forEach(n=>{let a=e.clone();$(a).css("display","flex");let c="Nome: "+n.name+" Cpnj"+n.cnpj;$(a).find(".nameCompany").html(c),$(a).find(".idCompany").val(n.id),$("#card_porc").append(a)}),function(){let e=$("#card_porc").find(".companyLinePorc").length,n=100/parseInt(e);$("#card_porc").find(".companyLinePorc").each((function(){$(this).find(".porcValue").val(n)}));let a=[];$("#card_porc").find(".companyLinePorc").each((function(){let e=parseFloat($(this).find(".porcValue").val()),n=$(this).find(".idCompany").val()+"-"+e;a.push(n)})),$("#id_companies_porc").val(a)}()}(),$(".porcValue").each((function(){$(this).on("keyup",(function(){""===$(this).val()&&$(this).val(0);let e=[];$("#card_porc").find(".companyLinePorc").each((function(){let n=parseFloat($(this).find(".porcValue").val()),a=$(this).find(".idCompany").val()+"-"+n;e.push(a)})),$("#id_companies_porc").val(e)}))}))}))})),$("#btnInput").on("click",(function(e){e.preventDefault(),!1===function(){let e=!1;return $("#companiesAreaTable").find("input[name=companyCheck]").each((function(){$(this).prop("checked")&&(e=!0)})),e}()?Swal.fire({icon:"error",text:"Selecione pelo menos uma empresa!",customClass:"mySweetalert"}):!1===function(){let e=0;return $("#card_porc").find(".companyLinePorc").each((function(){let n=parseFloat($(this).find(".porcValue").val());e+=n})),100==e}()?Swal.fire({icon:"error",text:"As soma das porcentagens das empresas não está dando 100%!",customClass:"mySweetalert"}):$("#formInterprise").trigger("submit")}))});