$(()=>{function e(e,n=!1){$.ajax({url:ADDRESS_URL,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",data:{cep:e},success:function(e){!1===n?t(e.address):t(e.address,!0)},error:function(){alert("algo deu errado!")}})}function t(e,t=!1){!1===t?($("input[name=street]").val(e.logradouro),$("input[name=neighborhood]").val(e.bairro),$("input[name=city]").val(e.localidade),$("select[name=state]").find("option").each((function(){$(this).val()===e.uf&&$(this).prop("selected",!0)}))):($("input[name=representative_street]").val(e.logradouro),$("input[name=representative_neighborhood]").val(e.bairro),$("input[name=representative_city]").val(e.localidade),$("select[name=representative_state]").find("option").each((function(){$(this).val()===e.uf&&$(this).prop("selected",!0)})))}$("#representative_cpf").mask("999.999.999-99",{completed:function(){!1===function(e){if("string"!=typeof e)return!1;if(11!==(e=e.replace(/[\s.-]*/gim,"")).length||!Array.from(e).filter(t=>t!==e[0]).length)return!1;for(var t,n=0,a=1;a<=9;a++)n+=parseInt(e.substring(a-1,a))*(11-a);10!=(t=10*n%11)&&11!=t||(t=0);if(t!=parseInt(e.substring(9,10)))return!1;n=0;for(a=1;a<=10;a++)n+=parseInt(e.substring(a-1,a))*(12-a);10!=(t=10*n%11)&&11!=t||(t=0);return t==parseInt(e.substring(10,11))}(this.val())&&($("#representative_cpf").val(""),Swal.fire({icon:"error",text:"Cpf Inválido",customClass:"mySweetalert"}))}}),$("#cnpj").mask("99.999.999/9999-99",{completed:function(){!1===function(e){if(!e)return!1;if("string"!=typeof e&&!Number.isInteger(e)&&!Array.isArray(e))return!1;const t=e.toString().match(/\d/g),n=Array.isArray(t)?t.map(Number):[];if(14!==n.length)return!1;if(1===[...new Set(n)].length)return!1;const a=e=>{const t=n.slice(0,e);let a=e-7,r=0;for(let n=e;n>=1;n--){r+=t[e-n]*a--,a<2&&(a=9)}const i=11-r%11;return i>9?0:i},r=n.slice(12);if(a(12)!==r[0])return!1;return a(13)===r[1]}(this.val())&&($("input[name=cnpj]").val(""),Swal.fire({icon:"error",text:"CNPJ Inválido",customClass:"mySweetalert"}))}}),$("#btnCopyAddress").on("click",(function(e){e.preventDefault(),$("input[name=representative_street]").val($("#street").val()),$("input[name=representative_number]").val($("#number").val()),$("input[name=representative_neighborhood]").val($("#neighborhood").val()),$("input[name=representative_city]").val($("#city").val()),$("input[name=representative_complement]").val($("#complement").val()),$("input[name=representative_cep]").val($("#cep").val()),$("select[name=representative_state]").find("option").each((function(){$(this).val()==$("#state").val()&&$(this).prop("selected",!0)}))})),$("#cep").mask("99999-999",{completed:function(){e(this.val())}}),$("#representative_cep").mask("99999-999",{completed:function(){e(this.val(),!0)}}),$("#cnpj").mask("99.999.999/9999-99",{completed:function(){var e;e=this.val(),$.ajax({url:CNPJ_URL,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{cnpj:e},dataType:"json",success:function(e){!function(e){""!=e.fantasia?$("#company_name").val(e.fantasia):$("#company_name").val(e.nome),$("#street").val(e.logradouro),$("#number").val(e.numero),$("#cep").val(e.cep),$("#complement").val(e.complemento),$("#city").val(e.municipio),$("#neighborhood").val(e.bairro),$("#state").find("option").each((function(){$(this).val()===e.uf&&$(this).prop("selected",!0)}))}(e.cnpj_info)}})}})});